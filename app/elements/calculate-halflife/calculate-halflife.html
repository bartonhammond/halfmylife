<!--
    @license
    Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  -->

<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="calculate-halflife">
  <style is="custom-style">
    .list {
    padding-top: 12px;
    background-color: white;
    display: inline-block;
    margin: 12px;
    @apply(--shadow-elevation-2dp);
    }
    .short {
    padding-top: 12px;
    }
    .marginright {
    margin-right: 25px;
    }
    paper-button.colorful {
    color: #4285f4;
    }
    paper-toast {
    z-index: 9999;
    }
  </style>
  <template>

    Birthday:
    <div class="horizontal layout">
      <paper-input
         id="birthdayMonth"
         label="Month"
         value="10"
         auto-validate
         pattern="\b([1-9]|1[0-2])\b"
         error-message="1-12 only">
      </paper-input>

      <paper-input
         id="birthdayDay"
         label="Day"
         value="8"
         auto-validate
         pattern="\b([1-9]|[12][0-9]|3[01])\b"
         error-message="1-31 only">
      </paper-input>

      <paper-input
         id="birthdayYear"
         label="Year"
         value="1954"
         auto-validate
         pattern="\b(19[0-9]{2}|200[0-9]|201[0-5])\b"
         error-message="1900-2015 only">
      </paper-input>
    </div>

    Significant Date:
    <div class="horizontal layout">
      <paper-input
         id="signifMonth"
         label="Month"
         value="12"
         auto-validate
         pattern="\b([1-9]|1[0-2])\b"
         error-message="1-12 only">
      </paper-input>

      <paper-input
         id="signifDay"
         label="Day"
         value="24"
         auto-validate
         pattern="\b([1-9]|[12][0-9]|3[01])\b"
         error-message="1-31 only">
      </paper-input>

      <paper-input
         id="signifYear"
         label="Year"
         value="1985"
         auto-validate
         pattern="\b(19[0-9]{2}|200[0-9]|201[0-5])\b"
         error-message="1900-2015 only">
      </paper-input>
    </div>
    <div class="horizontal layout">    
      <paper-button raised on-click="calculateHalflife" class="colorful">Calculate!</paper-button>
      <paper-toast id="toastOK" text="{{message}}"></paper-toast>
    </div>

    <div hidden="{{!calculated}}">
      <h4>Important Dates</h4>
      <div class="list short">
        <paper-item>
          <paper-item-body two-line class="layout horizontal">
            <div class="marginright"><strong>%</strong></div>
            <div><strong>Date</strong></div>
          </paper-item-body>
        </paper-item>

        <template  is="dom-repeat" items="{{mydates}}">
          <paper-item>
            <paper-item-body two-line class="layout horizontal">
              <div class="marginright">{{item.pct}}</div>
              <div>{{item.adate}}</div>
            </paper-item-body>
          </paper-item>

        </template>
      </div>
    </div>
  </template>
  <script src="calculate-halflife.js"></script>
</dom-module>
