<!--
@license
Copyright (c) 2015 Barton Hammond . All rights reserved.
@import 'addthisevent/css/addthisevent.theme6.css';
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<!-- AddThisEvent -->
<script type="text/javascript"
        src="addthisevent.min.js"></script>


<dom-module id="calculate-halflife">

  <style is="custom-style">
    .list {
    padding-top: 12px;
    background-color: white;
    display: inline-block;
    margin: 12px;
    @apply(--shadow-elevation-2dp);
    }
    .short {
    padding-top: 12px;
    }
    .marginright {
    margin-right: 25px;
    }
    paper-button.colorful {
    color: #4285f4;
    }
    paper-toast {
    z-index: 9999;
    }
  </style>
  <template>

    Your Birthday:
    <div class="horizontal layout">
      <paper-input
         id="birthdayMonth"
         label="Month"
         value='10'
         auto-validate
         pattern="\b([1-9]|1[0-2])\b"
         error-message="1-12 only">
      </paper-input>
      
      <paper-input
         id="birthdayDay"
         label="Day"
         value='8'
         auto-validate
         pattern="\b([1-9]|[12][0-9]|3[01])\b"
         error-message="1-31 only">
      </paper-input>
      
      <paper-input
         id="birthdayYear"
         label="Year"
         value='1954'
         auto-validate
         pattern="\b(19[0-9]{2}|200[0-9]|201[0-5])\b"
         error-message="1900-2015 only">
      </paper-input>
    </div>
    
    <br>
    Significant Date: (when you met someone or married someone, etc)
    <div class="horizontal layout">
      <paper-input
         id="signifMonth"
         label="Month"
         value='12'
         auto-validate
         pattern="\b([1-9]|1[0-2])\b"
         error-message="1-12 only">
      </paper-input>
      
      <paper-input
         id="signifDay"
         label="Day"
         value='24'
         auto-validate
         pattern="\b([1-9]|[12][0-9]|3[01])\b"
         error-message="1-31 only">
      </paper-input>
      
      <paper-input
         id="signifYear"
         label="Year"
         value='1985'
         auto-validate
         pattern="\b(19[0-9]{2}|200[0-9]|201[0-5])\b"
         error-message="1900-2015 only">
      </paper-input>
    </div>

    <div class="horizontal layout">
      <paper-input
         id="title"
         char-counter
         label="Event Description"
         value="Marilyn and I met this day"
         maxlength="100"
         style="width: 500px"
         </paper-input>

</div>


<div class="horizontal layout">    
  <paper-button raised on-click="calculateHalflife"
                class="colorful">Calculate!
  </paper-button>
  <paper-toast id="toastOK" text="{{message}}"></paper-toast>
</div>
<div>
  <p><strong>Note:  </strong>When prompted for your location,
    please allow it. I am only interested in the State you are
    living.  Thanks.
</div>

<div hidden="{{!calculated}}">
  <h4>Important Dates</h4>
  <div class="list short">
    <paper-item>
      <paper-item-body three-line class="layout horizontal">
        <div class="marginright"><strong>%</strong></div>
        <div><strong>Date</strong></div>
        <div><strong>Calendar</strong></div>
      </paper-item-body>
    </paper-item>

    <template id="calendardates" is="dom-repeat" items="{{mydates}}">
      <paper-item>
        <paper-item-body three-line class="layout center horizontal">
          <div class="marginright">{{item.pct}}</div>
          <div>{{item.adate}}</div>
          <div title="Add to Calendar" class="addthisevent"
               style$="{{item.style}}"
               >
            Add to Calendar
            <span class="start">{{item.start}}</span>
            <span class="end">{{item.end}}</span>
            <span class="timezone">{{item.timezone}}</span>
            <span class="title">{{item.title}}</span>
            <span class="description">{{item.description}}</span>
            <span class="all_day_event">true</span>
            <span class="date_format">MM/DD/YYYY</span>
          </div>
        </paper-item-body>
      </paper-item>

    </template>
  </div>
</div>

<google-maps-api api-key="AIzaSyDWwV0K5Vy0F2Rb13Hj7EbQ5oGXJqkQwBg"
                 version="3.20">
</google-maps-api>


<firebase-collection
   location="https://halfmylife.firebaseio.com/states"
   data="{{states}}">
</firebase-collection>

<template  is="dom-repeat" items="{{states}}">
  <paper-item>
    <paper-item-body two-line class="layout horizontal">
      <div class="marginright">{{item.__firebaseKey__}}</div>
      <div>{{item.value}}</div>
    </paper-item-body>
  </paper-item>
</template>

</template>
<script src="calculate-halflife.js"></script>
</dom-module>
